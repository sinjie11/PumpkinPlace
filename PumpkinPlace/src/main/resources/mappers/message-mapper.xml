<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.error404.pumpkinplace.mappers.MessageMapper">

	<!--  message 테이블 sql 쿼리문 작성  -->
	
	<!-- insert into pumpkin_message (mem_id, msg_recvid, msg_title, msg_sendcontent, msg_recvcontent) 
		 values (?, ?, ?, ?, ?);
	 -->
	<insert id="insertMessage">
		insert into ${tbl_message} 
		(${col_mem_id}, ${col_msg_recvid}, ${col_msg_title}, ${col_msg_sendcontent}, ${col_msg_recvcontent}) 
		values (#{msg_id}, #{msg_recvid}, #{msg_title}, #{msg_sendcontent}, #{msg_recvcontent})		
	</insert>
	
	
	<!-- select * from pumpkin_message where mem_id = ? -->
	<select id="selectMessage" resultType="Message">
		select * from ${tbl_message} where ${col_mem_id} = #{mem_id}
	</select>
	
		
	<!-- update pumpkin_message 
		 set msg_title = ?, msg_sendcontent = ? 
		 where msg_no = ?; 
	 -->
	 <update id="update">
	 	update ${tbl_message} 
	 	set ${col_msg_title} = #{msg_title}, ${col_msg_sendcontent} = #{msg_sendcontent} 
	 	where ${col_msg_no} = #{msg_no}
	 </update>
	 
	 
	 <!-- delete pumpkin_message where msg_no = ? -->
	 <delete id="delete">
	 	delete ${tbl_message} where ${col_msg_no} = #{msg_no}
	 </delete>
	 
	 
	 <!-- select msg_no, mem_id, msg_recvid, msg_title, msg_sendcontent, msg_regdate 
		 from pumpkin_message where mem_id = ?
	 
	<select id="sendMessage" resultType="Message">
		select ${col_msg_no}, ${col_msg_id}, ${col_msg_recvid}, ${col_msg_title}, ${col_msg_sendcontent}, ${col_msg_regdate} 
		from ${tbl_message} where ${col_mem_id} = #{mem_id}
	</select>
	
	 select msg_no, mem_id, msg_recvid, msg_title, msg_recvcontent, msg_regdate 
	 from pumpkin_message where mem_id = ?
	 
	<select id="recvMessage" resultType="Message">
		select ${col_msg_no}, ${col_msg_id}, ${col_msg_recvid}, ${col_msg_title}, ${col_msg_recvcontent}, ${col_msg_regdate} 
		from ${tbl_message} where ${col_mem_id} = #{mem_id}
	</select>
	-->
	 
</mapper>